<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">


<body>
	<!-- Plantilla para escribir codigo reusable por thymeleaf en nuestras vistas -->

	<!-- Datos generales -->
	<div th:fragment="contenido" th:remove="tag">
		<div class="form-group row">
			<div class="col-sm-12">
				<label class="form-label" for="nombreProducto">Nombre producto:</label>
				<input type="text" class="form-control" id="nombreProducto" placeholder="Introduce un nombre" th:field="*{nombre}" required minlength="3"maxlength="256">
			</div>
		</div>
		<div class="form-group row">
			<div class="col-sm-12">
				<label class="form-label" for="colorProducto">Color producto:</label>
				<input type="text" class="form-control" id="colorProducto" placeholder="Introduce un color" th:field="*{color}" required minlength="3"maxlength="256">
			</div>
		</div>
		<div class="form-group row">
			<div class="col-sm-12">
				<label class="form-label" for="marcaProducto">Marca:</label>
				<select class="form-control" id="marcaProducto" th:field="*{marca}" required>
					<th:block th:each="marca : ${listaMarcas}">
						<option th:value="${marca.idMarca}">[[${marca.nombre}]]</option>
					</th:block>
				</select>
			</div>
		</div>
		<div class="form-group row">
			<div class="col-sm-12">
				<label class="form-label" for="superficieProducto">Tipo de taco:</label>
				<select class="form-control" id="superficieProducto" th:field="*{superficie}" required>
					<th:block th:each="superficie : ${listaSuperficies}">
						<option th:value="${superficie.idSuperficie}">[[${superficie.nombre}]]</option>
					</th:block>
				</select>
			</div>
		</div>
		<div class="form-group row">
			<div class="col-sm-12">
				<label class="form-label">Activo:</label> <input type="checkbox" th:field="*{activo}">
			</div>
		</div>
		<div class="form-group row">
			<div class="col-sm-12">
				<label class="form-label" for="precioProducto">Precio producto:</label>
				<input type="number" step="0.01" class="form-control" id="precioProducto"  th:field="*{precio}">
			</div>
		</div>
		<div class="form-group row">
			<div class="col-sm-12">
				<label class="form-label" for="porcentajeDescuento">Descuento del producto:</label>
				<input type="number" class="form-control" id="porcentajeDescuento"  th:field="*{porcentajeDescuento}">
			</div>
		</div>
	</div>
	<!-- Datos generales -->
	<!-- Tallas y stock-->
	<div th:fragment="stock" th:remove="tag">
		<div>
			<!--<th:block th:each="entry : ${producto.tallaStock.entrySet()}" class="form-group row">
				<tr>
					<td>
						<label th:text="${entry.key}"></label>
						<input type="hidden" th:field="*{tallaStock[__${entry.key}__]}" th:value="${entry.value}" />
					</td>
					<td>
						<input type="number" th:field="*{tallaStock[__${entry.key}__]}" th:value="${entry.value}" />
					</td>
				</tr>
			</th:block>-->

			<th:block th:each="entry : ${producto.tallaStock.entrySet()}" class="form-group row">
				<div class="col-sm-12">
					<label class="form-label" for="tallaStock[[[${entry.key}]]]">Stock talla [[${entry.key}]]:</label>
					<input class="form-control" type="number" id="tallaStock[[[${entry.key}]]]" name="tallaStock[[[${entry.key}]]]" th:field="*{tallaStock[__${entry.key}__]}" />
					<br>
				</div>
			</th:block>
		</div>

	</div>
	<!-- Tallas y stock-->
	<!-- Descripcion-->
	<div th:fragment="descripcion" th:remove="tag">
		<div>
			<label>Descripci√≥n:</label><br>
			<textarea class="form-control" th:field="*{descripcion}" rows="5" required></textarea>
		</div>
	</div>
	<!-- Descripcion-->
	<!-- Fotos-->


	<div th:fragment="fotos" th:remove="tag">
		<div id="divImagenes">
			<!-- Foto principal-->
			<div class="row">
				<div class="col border m-3 p-2">
					<div><label>Imagen principal:</label></div>
					<div class="m-2">
						<img id="thumbnail" th:src="@{${producto.pathFotoPrincipal}}" alt="Foto principal" class="img-fluid">
					</div>
					<div>
						<input type="file" id="fileImg" name="productoImgPrincipal" accept="image/png, image/jpeg"  required>
					</div>
				</div>
			</div>
		<!-- Fotos detalle-->
			<div class="row">
				<div class="col border m-3 p-2" id="divExtraImage0">
					<div id="extraImageHeader0"><label>Imagen detalle #1:</label></div>
					<div class="m-2">
						<img id="extraThumbnail0" th:src="@{/images/default-producto.png}" alt="Foto detalle #1" class="img-fluid">
					</div>
					<div>
						<input type="file" name="fotoDetalle" accept="image/png, image/jpeg">
					</div>
				</div>
			</div>

		</div>
	</div>
	<!-- Fotos-->

</body>

</html>