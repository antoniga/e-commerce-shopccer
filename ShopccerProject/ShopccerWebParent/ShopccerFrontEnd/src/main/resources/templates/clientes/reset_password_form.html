<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: pageHead('Reseteo contraseña')"></head>
<body>
	<div th:replace="navigation :: header_menu"></div>
	<div th:replace="navigation :: search_nav"></div>
	<div class="container">

		<div class="text-center border-bottom m-3">
			<h2>Reseteo de contraseña</h2>
		</div>

		<form th:action="@{/reset_password}" method="post" style="max-width: 420px; margin: 0 auto">
			<input type="hidden" th:value="${token}" name="token" />
			<div class="border border-secondary rounded p-3">
				<div>
					<p>
						<input type="password" name="password" id="password" placeholder="Introduce la nueva contraseña"
							   class="form-control" minlength="8" maxlength="15" required="required" autofocus="autofocus"/>
					</p>
				</div>
				<div>
					<p>
						<input type="password" placeholder="Confirma la contraseña"
							   class="form-control" oninput="checkPasswordMatch(this)"
							   minlength="8" maxlength="15" required="required"/>

					</p>
				</div>
				<div>
					<input type="submit" value="Cambiar contraseña" class="btn btn-primary" />
				</div>
			</div>
		</form>

		<div>&nbsp;</div>

	</div>
	<div th:replace="navigation :: footer_menu"></div>
	<div th:replace="fragments :: footer"></div>
	<script type="text/javascript">
		function checkPasswordMatch(confirmPassword) {
			if (confirmPassword.value != $("#password").val()) {
				confirmPassword.setCustomValidity("Las contraseñas no coinciden.");
			} else {
				confirmPassword.setCustomValidity("");
			}
		}
	</script>
</body>
</html>